一. 四种 NAT 类型
1. 类型
(1) 无限制型        => A
(2) ip限制型        => B
(3) port限制型      => C
(4) 对称型          => D

2. C与D的区别
都是限制 ip&port 对的
唯一的区别就是:
C相同的内网地址如果访问不同的地址, NAT是不会新建一个 port 的, 但是 D 只要遇到一个陌生的地址, 就会新建一个 port

对称型网络的特点:
两方建立一次通信后, 对称型的一方只能接收此次通信的 (ip, port), 其他的 (ip, port) 过来将会被抛弃
如果该对称型一方发送给其他的接收方, 对称型一方将分配一个新的 port 与之通信
对称型一方的第一次(ip, port)是无法接收第二个接收方的数据的 (会被丢弃)


二. p2p的可能性
1. 两个对称型客户端无法通信的原因
(1) client 1 需要先连接公网服务, 此时, client 1 对外的 ip/port 被记住, 并且只能被改公网访问
(2) 如果 client 1 需要访问处理 (1) 中提到的公网(ip&port) 以外的地址, 那么 对称型NAT 将重新分配一个对外的映射端口, 将这个新的端口命名为 New
这个 New 只能接收 公网服务器提供的 client 2 的地址
但是, client 2 因为连接过公服务器, 所以, client 2 的端口只能被公网服务器的 (ip&port) 访问
而 client 2 如果要访问 client 1 肯定还是需要新开一个端口 (与 (1) 同理)
综上所述, client 1 和 client 2 如果使用连上公网服务器的 (ip&port) 是无法通信的
